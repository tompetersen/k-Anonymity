\section{l-Diversity}

\begin{frame}{l-Diversity - Prinzip}

\begin{description}
	\item[Prinzip] Eine Tabelle erfüllt \(l\)-Diversity, wenn in jedem \(k\)-anonymen Block mindestens \(l\) verschiedene Werte für das sensitive Attribut vorkommen.
    
    \vspace{1.0cm}
    
    \item[Bsp.-Tabelle]
    \small
	\begin{tabular}{|c|c|c|}
	\hline \textbf{G.jahr} & \textbf{PLZ} & \textbf{Erkrankung} \\
	\hline
     1970 & 21*** & Hepatitis X \\ 
	 1970 & 21*** & Hepatitis Y \\ 
	 1970 & 21*** & Hepatitis Z \\
	\hline 
     1975 & 21*** & Hepatitis X \\
     1975 & 21*** & Hepatitis X \\ 
	 1975 & 21*** & Hepatitis X \\ 
	\hline 
	\end{tabular}
	\vspace{0.3cm}

	\(k = 4, l = 1\)
\end{description}

\end{frame}


\begin{frame}{l-Diversity - Definitionen}
	\begin{block}{l-Diversity - Entropie basiert}
    \centering
        Eine Tabelle ist \(l\)-divers, wenn für jeden $q*$-Block die folgende Ungleichung erfüllt wird:
        
    	$\sum\limits_{s \in S} p_{(q^*,s)} log(p_{(q^*,s')}) \geq log(l)$
        
    	Dabei stellt $p_{(q^*,s)}$ den Anteil des Werts $s$ in dem $q^*$-Block dar.
   \end{block}
    \tiny Definition nach \cite{machanavajjhala_l_diversity}.
    
    \vfill
    
	\begin{block}{l-Diversity - rekursiv}
    \centering
		Innerhalb eines $q^*$-Blocks sei $r_i$ die Anzahl des $i$-häufigsten sensiblen Attributs. Mit einer gegebenen Konstante $c$ erfüllt dieser $q^*$-Block rekursive $(c, l)$-Diversity, wenn $r_1 < c(r_l + r_{l+1} + ...  + r_m )$ gilt. Eine Tabelle $T^*$ erfüllt $(c, l)$-Diversity, wenn jeder $q^*$-Block $(c, l)$-Diversity erfüllt. $1$-Diversity ist immer erfüllt.
    \end{block}
    \tiny Definition nach \cite{machanavajjhala_l_diversity}.
\end{frame}


\begin{frame}{Beispiel: 2-diverse Tabelle}
	\begin{center}
		%Erstellt von script/generate_table.py - bei Bedarf anpassen
			\begin{tabular}{|l|c|c|r|l|}
		\hline \textit{Identifier} & \multicolumn{3}{c|}{\textbf{Nicht-sensibel}} & \textbf{Sensibel} \\ 
		\hline \textit{Name} & \textbf{Geschl.} & \textbf{PLZ} & \textbf{Geburtsjahr} & \textbf{Erkrankung} \\ \hline
		\hline \rowcolor{svshellblau1!30} 	- & w & 22*** & 1944-45 & Hepatitis \\ 
		\hline \rowcolor{svshellblau1!30}	- & w & 22*** & 1944-45 & Gicht \\ 
		\hline \rowcolor{svsgrau1!30} 		- & * & 22*** & 1949 & Arthrose \\ 
		\hline \rowcolor{svshellblau2!30} 	- & w & 228** & 1985-92 & Diabetes \\
		\hline \rowcolor{svshellblau2!30} 	- & w & 228** & 1985-92 & Demenz \\  
		\hline \rowcolor{white} 		- & m & 22997 & 1936-75 & Arthrose \\ 
		\hline \rowcolor{svsgrau1!30} 		- & * & 22*** & 1949 & Diabetes \\ 
		\hline \rowcolor{svsrot!30} 		- & m & 22*** & 1963-64 & Demenz \\ 
		\hline \rowcolor{svsrot!30} 		- & m & 22*** & 1963-64 & Demenz \\ 
		\hline \rowcolor{white} 		- & m & 22997 & 1936-75 & Hepatitis \\ 
		\hline 
		\end{tabular}
		\vspace{0.5cm}
        
		k-anonyme Tabelle mit \(k=2\), aber nur l-divers mit \(l=1\)
	\end{center}
\end{frame}


\begin{frame}{Beispiel: 2-diverse Tabelle}
	\begin{center}
		%Erstellt von script/generate_table.py - bei Bedarf anpassen
			\begin{tabular}{|l|c|c|r|l|}
		\hline \textit{Identifier} & \multicolumn{3}{c|}{\textbf{Nicht-sensibel}} & \textbf{Sensibel} \\ 
		\hline \textit{Name} & \textbf{Geschl.} & \textbf{PLZ} & \textbf{Geburtsjahr} & \textbf{Erkrankung} \\ \hline
		\hline \rowcolor{svshellblau1!30} 	- & w & 22*** & 1944-45 & Hepatitis \\ 
		\hline \rowcolor{svshellblau1!30}	- & w & 22*** & 1944-45 & Gicht \\ 
		\hline \rowcolor{svsgrau1!30} 		- & * & 22*** & 1949 & Arthrose \\ 
		\hline \rowcolor{svshellblau2!30} 	- & w & 228** & 1985-92 & Diabetes \\
		\hline \rowcolor{svshellblau2!30} 	- & w & 228** & 1985-92 & Demenz \\  
		\hline \rowcolor{svsrot!30} 		- & m & 22*** & 1936-75 & Arthrose \\ 
		\hline \rowcolor{svsgrau1!30} 		- & * & 22*** & 1949 & Diabetes \\ 
		\hline \rowcolor{svsrot!30} 		- & m & 22*** & 1936-75 & Demenz \\ 
		\hline \rowcolor{svsrot!30} 		- & m & 22*** & 1936-75 & Demenz \\ 
		\hline \rowcolor{svsrot!30} 		- & m & 22*** & 1936-75 & Hepatitis \\ 
		\hline 
		\end{tabular}
		\vspace{0.5cm}
        
		\textbf{Ergebnis:} k-anonyme Tabelle mit \(k=2\) und l-divers mit \(l=2\)
	\end{center}
\end{frame}


\subsection{Verbesserung zu k-Anonymität}

\begin{frame}{Verbesserung zu k-Anonymität}
- $l$-Diversität verteilt die gleichen sensiblen Attribute auf die verschiedenen Blöcke.\\
\ \\ => Somit ist eine \textit{Homogenity Attack} nicht mehr möglich.\\
\ \\ => Eine \textit{Background Knowledge Attack} wird erschwert.\\
\ \\ \tiny \cite{machanavajjhala_l_diversity}

\vspace{1.0cm}

\normalsize
- Ein Vorteil von l-Diversity ist, dass vorhandene Generalisierungsalgorithmen leicht angepasst werden können.

\end{frame}


\subsection{l-Diversität Schwächen}

\begin{frame}{l-Diversität - Schwächen}

\begin{description}
	\item[Skewness Attack] \ \\
    - Tabelle mit 1 sensiblen Attribut, 2 Ausprägungen.\\
    - Wahrscheinlichkeit für Wert 1 ist sehr hoch.\\
    - Wahrscheinlichkeit für Wert 2 entsprechend niedrig.\\
    - 2-diverse Tabelle mit Block $q^*$\\
    - $q^*$ Beinhaltet zu 50\% Wert 1 und zu 50\%  Wert 2\\
    - Die Wahrscheinlichkeit, dass ein Tupel aus q* den Wert 2 hat liegt nun bei 50\%  \\
    \tiny \cite{Li2007t-closseness}. 
\end{description}
\vspace{0.5cm}

\textbf{Beispiel:} Angenommen das sensible Attribut hat die Werte: krank / gesund. In der Bevölkerung sind 1\% krank und 99\% gesund. Die Wahrscheinlichkeit, dass eine Person aus dem Block $q^*$ krank ist liegt nun bei 50\% und nicht mehr bei 1\%.
\end{frame}

\begin{frame}{l-Diversität - Schwächen}
\begin{description}	
	\item[Similarity Attack] l-Diversity garantiert, dass in jedem Block unterschiedliche sensible Werte stehen. Es kann jedoch vorkommen, dass sich diese Werte ähneln. \\
    \tiny \cite{Li2007t-closseness} 
\end{description}

\vspace{1.5cm}

\normalsize
\textbf{Beispiel:} In einem Block stehen unterschiedliche Krankheiten als sensitives Attribut. Es sind nur Geschlechtskrankheiten.

Wenn nun eine Person diesem Block zugeordnet werden kann, so weiß man auch, dass diese Person eine Geschlechtskrankheit hat.

\end{frame}
