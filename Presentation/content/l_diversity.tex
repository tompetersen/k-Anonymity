\section{l-Diversität}

\begin{frame}{l-Diversität - Prinzip}

\begin{description}
	\item[Prinzip] Eine Tabelle erfüllt \(l\)-Diversität, wenn in jedem \(k\)-anonymen Block mindestens \(l\) verschiedene Werte für das sensitive Attribut vorkommen.
    
    \vspace{1.0cm}
    
    \item[Bsp.-Tabelle]
    \small
	\begin{tabular}{|c|c|c|}
	\hline \textbf{G.jahr} & \textbf{PLZ} & \textbf{Erkrankung} \\
	\hline
     1970 & 21*** & Hepatitis X \\ 
	 1970 & 21*** & Hepatitis Y \\ 
	 1970 & 21*** & Hepatitis Z \\
	\hline 
     1975 & 21*** & Hepatitis X \\
     1975 & 21*** & Hepatitis X \\ 
	 1975 & 21*** & Hepatitis X \\ 
	\hline 
	\end{tabular}
	\vspace{0.3cm}

	\(k = 3, l = 1\)
\end{description}

\end{frame}


\begin{frame}{l-Diversität - Definitionen}
	\begin{block}{Entropie basierte l-Diversität \tiny \cite{machanavajjhala_l_diversity}}
        Eine Tabelle ist \textbf{\(l\)-divers}, wenn für jeden $q*$-Block die folgende Ungleichung erfüllt wird:
    	\[- \sum\limits_{s \in S} p_{(q^*,s)} \log(p_{(q^*,s)}) \geq log(l)\]
    	Dabei stellt $p_{(q^*,s)}$ den Anteil des Werts $s$ in dem $q^*$-Block dar.
   \end{block}
    
    \vfill
    
	\begin{block}{rekursive (c,l)-Diversität \tiny \cite{machanavajjhala_l_diversity}}
		Innerhalb eines $q^*$-Blocks sei $r_i$ die Anzahl des $i$-häufigsten sensiblen Attributs. Mit einer gegebenen Konstante $c$ erfüllt dieser $q^*$-Block \textbf{rekursive $(c, l)$-Diversität}, wenn $r_1 < c(r_l + r_{l+1} + ...  + r_m )$ gilt. Eine Tabelle $T^*$ erfüllt $(c, l)$-Diversität, wenn jeder $q^*$-Block $(c, l)$-Diversität erfüllt. $1$-Diversität ist immer erfüllt.
    \end{block}
\end{frame}


\begin{frame}{Beispiel: 2-diverse Tabelle}
	\begin{center}
		%Erstellt von script/generate_table.py - bei Bedarf anpassen
			\begin{tabular}{|l|c|c|r|l|}
		\hline \textit{Identifier} & \multicolumn{3}{c|}{\textbf{Nicht-sensibel}} & \textbf{Sensibel} \\ 
		\hline \textit{Name} & \textbf{Geschl.} & \textbf{PLZ} & \textbf{Geburtsjahr} & \textbf{Erkrankung} \\ \hline
		\hline \rowcolor{svshellblau1!30} 	- & w & 22*** & 1944-45 & Hepatitis \\ 
		\hline \rowcolor{svshellblau1!30}	- & w & 22*** & 1944-45 & Gicht \\ 
		\hline \rowcolor{svsgrau1!30} 		- & * & 22*** & 1949 & Arthrose \\ 
		\hline \rowcolor{svshellblau2!30} 	- & w & 228** & 1985-92 & Diabetes \\
		\hline \rowcolor{svshellblau2!30} 	- & w & 228** & 1985-92 & Demenz \\  
		\hline \rowcolor{white} 		- & m & 22997 & 1936-75 & Arthrose \\ 
		\hline \rowcolor{svsgrau1!30} 		- & * & 22*** & 1949 & Diabetes \\ 
		\hline \rowcolor{svsrot!30} 		- & m & 22*** & 1963-64 & Demenz \\ 
		\hline \rowcolor{svsrot!30} 		- & m & 22*** & 1963-64 & Demenz \\ 
		\hline \rowcolor{white} 		- & m & 22997 & 1936-75 & Hepatitis \\ 
		\hline 
		\end{tabular}
		\vspace{0.5cm}
        
		k-anonyme Tabelle mit \(k=2\), aber nur l-divers mit \(l=1\)
	\end{center}
\end{frame}


\begin{frame}{Beispiel: 2-diverse Tabelle}
	\begin{center}
		%Erstellt von script/generate_table.py - bei Bedarf anpassen
			\begin{tabular}{|l|c|c|r|l|}
		\hline \textit{Identifier} & \multicolumn{3}{c|}{\textbf{Nicht-sensibel}} & \textbf{Sensibel} \\ 
		\hline \textit{Name} & \textbf{Geschl.} & \textbf{PLZ} & \textbf{Geburtsjahr} & \textbf{Erkrankung} \\ \hline
		\hline \rowcolor{svshellblau1!30} 	- & w & 22*** & 1944-45 & Hepatitis \\ 
		\hline \rowcolor{svshellblau1!30}	- & w & 22*** & 1944-45 & Gicht \\ 
		\hline \rowcolor{svsgrau1!30} 		- & * & 22*** & 1949 & Arthrose \\ 
		\hline \rowcolor{svshellblau2!30} 	- & w & 228** & 1985-92 & Diabetes \\
		\hline \rowcolor{svshellblau2!30} 	- & w & 228** & 1985-92 & Demenz \\  
		\hline \rowcolor{svsrot!30} 		- & m & 22*** & 1936-75 & Arthrose \\ 
		\hline \rowcolor{svsgrau1!30} 		- & * & 22*** & 1949 & Diabetes \\ 
		\hline \rowcolor{svsrot!30} 		- & m & 22*** & 1936-75 & Demenz \\ 
		\hline \rowcolor{svsrot!30} 		- & m & 22*** & 1936-75 & Demenz \\ 
		\hline \rowcolor{svsrot!30} 		- & m & 22*** & 1936-75 & Hepatitis \\ 
		\hline 
		\end{tabular}
		\vspace{0.5cm}
        
		\textbf{Ergebnis:} k-anonyme Tabelle mit \(k=2\) und l-divers mit \(l=2\)
	\end{center}
\end{frame}


\subsection{Verbesserung zu k-Anonymität}

\begin{frame}{Verbesserung zu k-Anonymität}
	$l$-Diversität sichert verschiedene Ausprägungen der sensiblen Attribute in den verschiedenen \(q^*\)-Blöcken zu.
	
	\begin{itemize}
	\item Die \textit{Homogenity Attack} ist nicht mehr möglich.
	\item \textit{Background Knowledge Attacks} werden erschwert.
	\end{itemize}
	
	%Ein Vorteil von l-Diversity ist, dass vorhandene Algorithmen für k-Anonymität leicht angepasst werden können.
\end{frame}


\subsection{Schwächen der l-Diversität }

\begin{frame}{Schwächen der l-Diversität}
	\large \textcolor{gray!80}{Skewness attack} \normalsize \small\cite{Li2007t-closseness} 
	\begin{itemize}
		\item Tabelle mit einem sensiblen Attribut, 2 Ausprägungen.\\
	    \item Wahrscheinlichkeit für Ausprägung 1 ist sehr hoch.\\
	    \item Wahrscheinlichkeit für Ausprägung 2 entsprechend niedrig.\\
	    \item Es 2-diverse Tabelle mit Block $q^*$ vor.\\
	    \item $q^*$ beinhaltet zu 50\% Ausprägung 1 und zu 50\% Ausprägung 2.\\
	    \item Die Wahrscheinlichkeit, dass ein Tupel aus q* Ausprägung 2 besitzt, liegt nun bei 50\%.\\
	\end{itemize}
	
	\textbf{Beispiel:} Angenommen das sensible Attribut hat die Werte: krank / gesund. In der Bevölkerung sind 1\% krank und 99\% gesund. Die Wahrscheinlichkeit, dass eine Person aus dem Block $q^*$ krank ist liegt nun bei 50\% und nicht mehr bei 1\%.
\end{frame}

\begin{frame}{l-Diversität - Schwächen}
	\large \textcolor{gray!80}{Similarity attack} \normalsize \small\cite{Li2007t-closseness} 
	\vspace{0.2cm}

	l-Diversität garantiert, dass in jedem Block unterschiedliche sensible Werte stehen. Es kann jedoch vorkommen, dass sich diese Werte ähneln.

	\vspace{0.5cm}
	\centering
	\begin{tabular}{|c|c|c|}
	\hline \textbf{G.jahr} & \textbf{PLZ} & \textbf{Erkrankung} \\
	\hline
     1970 & 21*** & Diabetes \\ 
	 1970 & 21*** & Syphilis \\ 
	 1970 & 21*** & Gicht \\
	\hline 
     1975 & 21*** & \cellcolor{svsrot}Tripper \\
     1975 & 21*** & \cellcolor{svsrot}Syphilis \\ 
	 1975 & 21*** & \cellcolor{svsrot}Chlamydien \\ 
	\hline 
	\end{tabular}

	\vspace{0.2cm}
	\(k = 3, l = 3\)
	\vspace{0.5cm}

	Kann man eine Person dem zweiten Block zuordnen, so weiß man auch, dass diese eine Geschlechtskrankheit hat.
\end{frame}
